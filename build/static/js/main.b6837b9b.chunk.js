(this["webpackJsonphello-world-app"]=this["webpackJsonphello-world-app"]||[]).push([[0],{12:function(e,t,a){},13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(2),l=a.n(r);a(12);var c=()=>{const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[l,c]=Object(n.useState)([]),[s,i]=Object(n.useState)([]),[h,u]=Object(n.useState)([]);function d(e){const t={};return e.forEach(e=>{t[e.key]=e.value}),t}const y=async e=>{try{const a=await fetch("http://localhost:3005/secrets-data",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({secretName:e})});if(a.ok){const e=await a.json();if(e&&e.secrets){const a=(t=e.secrets,Object.keys(t).map(e=>({key:e,value:t[e]})));console.log("keyValues",a),c(a)}else console.error("Invalid secrets data format in API response:",e)}else console.error("Failed to fetch data:",a.statusText)}catch(a){console.error("Error during fetch:",a)}var t};return Object(n.useEffect)(()=>{(async()=>{try{const e=await fetch("http://localhost:3005/get-branches");if(!e.ok)throw new Error("Failed to fetch branches");{const t=await e.json();Array.isArray(t.branches)&&t.branches.length>0?i(t.branches):console.error("Invalid branches format in API response:",t)}}catch(e){console.error("Error fetching branches:",e)}})(),(async()=>{try{const e=await fetch("http://localhost:3005/get-secrets");if(!e.ok)throw new Error("Failed to fetch inherit values");{const t=await e.json();Array.isArray(t.secretKeys)&&t.secretKeys.length>0?u(t.secretKeys):console.error("Invalid inheritValues format in API response:",t)}}catch(e){console.error("Error fetching inherit values:",e)}})()},[]),o.a.createElement("div",{className:"bg-white text-black"},o.a.createElement("label",{htmlFor:"branch"},"Select Branch:"),o.a.createElement("select",{id:"branch",value:e,onChange:e=>{t(e.target.value)}},o.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Choose a branch"),s.map(e=>o.a.createElement("option",{key:e,value:e},e))),o.a.createElement("div",{style:{marginBottom:"10px"}}),o.a.createElement("label",{htmlFor:"inheritFrom"},"Inherit from:"),o.a.createElement("select",{id:"inheritFrom",value:a,onChange:e=>{r(e.target.value),y(e.target.value)}},o.a.createElement("option",{value:"",disabled:!0,hidden:!0},"Choose a value to inherit"),h.map(e=>o.a.createElement("option",{key:e,value:e},e))),l.map((e,t)=>o.a.createElement("div",{key:t,className:"key-value-pair"},o.a.createElement("input",{type:"text",className:"bg-yellow-500",placeholder:"Key ".concat(t+1),value:null===e||void 0===e?void 0:e.key,onChange:t=>{return a=e.key,n=t.target.value,console.log(a),void c(e=>e.map(e=>e.key===a?{...e,key:n}:e));var a,n}}),o.a.createElement("input",{type:"text",className:"bg-yellow-700",placeholder:"Value ".concat(t+1),value:null===e||void 0===e?void 0:e.value,onChange:t=>{return a=e.key,n=t.target.value,void c(e=>e.map(e=>e.key===a?{...e,value:n}:e));var a,n}}),o.a.createElement("button",{onClick:()=>(e=>{const t=l.filter((t,a)=>a!==e);c(t)})(t)},"Delete"))),o.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},o.a.createElement("button",{onClick:function(){c([...l,{key:"Key".concat(l.length),value:""}])},style:{marginRight:"5px"}},"ADD"),o.a.createElement("button",{onClick:async()=>{console.log(d(l));try{const t={branch:e,secretName:a,secretValue:d(l)},n=await fetch("http://localhost:3005/deploy",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});n.ok?console.log("API deployed successfully:",t):console.error("Failed to deploy API:",n.statusText)}catch(t){console.error("Error updating API:",t)}}},"Deploy")))};a(13);var s=function(){return o.a.createElement("div",{className:"page"},o.a.createElement("div",{className:"content"},o.a.createElement(c,null)))};var i=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,15)).then(t=>{let{getCLS:a,getFID:n,getFCP:o,getLCP:r,getTTFB:l}=t;a(e),n(e),o(e),r(e),l(e)})};l.a.createRoot(document.getElementById("root")).render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(s,null))),i()},3:function(e,t,a){e.exports=a(14)}},[[3,1,2]]]);
//# sourceMappingURL=main.b6837b9b.chunk.js.map